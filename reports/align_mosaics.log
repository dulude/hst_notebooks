Traceback (most recent call last):
  File "/usr/share/miniconda/lib/python3.9/site-packages/jupyter_cache/executors/utils.py", line 51, in single_nb_execution
    executenb(
  File "/usr/share/miniconda/lib/python3.9/site-packages/nbclient/client.py", line 1204, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/usr/share/miniconda/lib/python3.9/site-packages/nbclient/util.py", line 84, in wrapped
    return just_run(coro(*args, **kwargs))
  File "/usr/share/miniconda/lib/python3.9/site-packages/nbclient/util.py", line 62, in just_run
    return loop.run_until_complete(coro)
  File "/usr/share/miniconda/lib/python3.9/asyncio/base_events.py", line 647, in run_until_complete
    return future.result()
  File "/usr/share/miniconda/lib/python3.9/site-packages/nbclient/client.py", line 663, in async_execute
    await self.async_execute_cell(
  File "/usr/share/miniconda/lib/python3.9/site-packages/nbclient/client.py", line 965, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/usr/share/miniconda/lib/python3.9/site-packages/nbclient/client.py", line 862, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
tweakreg.TweakReg('*flt.fits',
                  imagefindcfg={'threshold': 50, 'conv_width': 2.5},
                  expand_refcat=True,
                  enforce_user_order=False,
                  shiftfile=True,
                  outshifts='shift160_flt.txt',
                  searchrad=2.0,
                  ylimit=0.3,
                  updatehdr=True,
                  reusename=True,
                  wcsname='IR_FLT',
                  interactive=False)
------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mRuntimeError[0m                              Traceback (most recent call last)
Cell [0;32mIn [6], line 1[0m
[0;32m----> 1[0m [43mtweakreg[49m[38;5;241;43m.[39;49m[43mTweakReg[49m[43m([49m[38;5;124;43m'[39;49m[38;5;124;43m*flt.fits[39;49m[38;5;124;43m'[39;49m[43m,[49m
[1;32m      2[0m [43m                  [49m[43mimagefindcfg[49m[38;5;241;43m=[39;49m[43m{[49m[38;5;124;43m'[39;49m[38;5;124;43mthreshold[39;49m[38;5;124;43m'[39;49m[43m:[49m[43m [49m[38;5;241;43m50[39;49m[43m,[49m[43m [49m[38;5;124;43m'[39;49m[38;5;124;43mconv_width[39;49m[38;5;124;43m'[39;49m[43m:[49m[43m [49m[38;5;241;43m2.5[39;49m[43m}[49m[43m,[49m
[1;32m      3[0m [43m                  [49m[43mexpand_refcat[49m[38;5;241;43m=[39;49m[38;5;28;43;01mTrue[39;49;00m[43m,[49m
[1;32m      4[0m [43m                  [49m[43menforce_user_order[49m[38;5;241;43m=[39;49m[38;5;28;43;01mFalse[39;49;00m[43m,[49m
[1;32m      5[0m [43m                  [49m[43mshiftfile[49m[38;5;241;43m=[39;49m[38;5;28;43;01mTrue[39;49;00m[43m,[49m
[1;32m      6[0m [43m                  [49m[43moutshifts[49m[38;5;241;43m=[39;49m[38;5;124;43m'[39;49m[38;5;124;43mshift160_flt.txt[39;49m[38;5;124;43m'[39;49m[43m,[49m
[1;32m      7[0m [43m                  [49m[43msearchrad[49m[38;5;241;43m=[39;49m[38;5;241;43m2.0[39;49m[43m,[49m
[1;32m      8[0m [43m                  [49m[43mylimit[49m[38;5;241;43m=[39;49m[38;5;241;43m0.3[39;49m[43m,[49m
[1;32m      9[0m [43m                  [49m[43mupdatehdr[49m[38;5;241;43m=[39;49m[38;5;28;43;01mTrue[39;49;00m[43m,[49m
[1;32m     10[0m [43m                  [49m[43mreusename[49m[38;5;241;43m=[39;49m[38;5;28;43;01mTrue[39;49;00m[43m,[49m
[1;32m     11[0m [43m                  [49m[43mwcsname[49m[38;5;241;43m=[39;49m[38;5;124;43m'[39;49m[38;5;124;43mIR_FLT[39;49m[38;5;124;43m'[39;49m[43m,[49m
[1;32m     12[0m [43m                  [49m[43minteractive[49m[38;5;241;43m=[39;49m[38;5;28;43;01mFalse[39;49;00m[43m)[49m

File [0;32m/usr/share/miniconda/lib/python3.9/site-packages/drizzlepac/tweakreg.py:840[0m, in [0;36mTweakReg[0;34m(files, editpars, configobj, imagefindcfg, refimagefindcfg, **input_dict)[0m
[1;32m    836[0m [38;5;66;03m# If 'editpars' was set to True, util.getDefaultConfigObj() will have[39;00m
[1;32m    837[0m [38;5;66;03m# already called 'run()'.[39;00m
[1;32m    838[0m [38;5;28;01mif[39;00m [38;5;129;01mnot[39;00m editpars:
[1;32m    839[0m     [38;5;66;03m# Pass full set of parameters on to the task[39;00m
[0;32m--> 840[0m     [43mrun[49m[43m([49m[43mconfigObj[49m[43m)[49m

File [0;32m/usr/share/miniconda/lib/python3.9/site-packages/drizzlepac/util.py:244[0m, in [0;36mWithLogging.__call__.<locals>.wrapper[0;34m(*args, **kwargs)[0m
[1;32m    240[0m         [38;5;66;03m# Insure that any exception raised by the code gets passed[39;00m
[1;32m    241[0m         [38;5;66;03m# on (hope that end_logging didn't change the last[39;00m
[1;32m    242[0m         [38;5;66;03m# exception raised)[39;00m
[1;32m    243[0m         [38;5;28;01mif[39;00m errorobj:
[0;32m--> 244[0m             [38;5;28;01mraise[39;00m errorobj
[1;32m    245[0m [38;5;28;01mreturn[39;00m result

File [0;32m/usr/share/miniconda/lib/python3.9/site-packages/drizzlepac/util.py:230[0m, in [0;36mWithLogging.__call__.<locals>.wrapper[0;34m(*args, **kwargs)[0m
[1;32m    223[0m [38;5;66;03m# This looks utterly bizarre, but it seems to be the only way I can[39;00m
[1;32m    224[0m [38;5;66;03m# ensure that any exceptions that occur in the wrapped function are[39;00m
[1;32m    225[0m [38;5;66;03m# logged before teardown_global_logging() is called.  Unless the[39;00m
[1;32m    226[0m [38;5;66;03m# except clause is explicitly included here, even with just 'pass'[39;00m
[1;32m    227[0m [38;5;66;03m# under it, Python discards the sys.exc_info() data by the time the[39;00m
[1;32m    228[0m [38;5;66;03m# finally clause is reached.[39;00m
[1;32m    229[0m [38;5;28;01mtry[39;00m:
[0;32m--> 230[0m     result [38;5;241m=[39m [43mfunc[49m[43m([49m[38;5;241;43m*[39;49m[43margs[49m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m)[49m
[1;32m    231[0m [38;5;28;01mexcept[39;00m [38;5;167;01mException[39;00m [38;5;28;01mas[39;00m e:
[1;32m    232[0m     errorobj [38;5;241m=[39m e

File [0;32m/usr/share/miniconda/lib/python3.9/site-packages/drizzlepac/tweakreg.py:551[0m, in [0;36mrun[0;34m(configobj)[0m
[1;32m    549[0m [38;5;28mprint[39m ([38;5;124m'[39m[38;5;130;01m\n[39;00m[38;5;124m'[39m[38;5;241m+[39m[38;5;124m'[39m[38;5;124m=[39m[38;5;124m'[39m[38;5;241m*[39m[38;5;241m20[39m)
[1;32m    550[0m [38;5;28mprint[39m ([38;5;124m'[39m[38;5;124mPerforming fit for: [39m[38;5;132;01m{}[39;00m[38;5;130;01m\n[39;00m[38;5;124m'[39m[38;5;241m.[39mformat(image[38;5;241m.[39mname))
[0;32m--> 551[0m [43mimage[49m[38;5;241;43m.[39;49m[43mmatch[49m[43m([49m[43mrefimage[49m[43m,[49m[43m [49m[43mquiet_identity[49m[38;5;241;43m=[39;49m[38;5;28;43;01mFalse[39;49;00m[43m,[49m[43m [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mobjmatch_par[49m[43m)[49m
[1;32m    552[0m [38;5;28;01massert[39;00m([38;5;28mlen[39m(retry_flags) [38;5;241m==[39m [38;5;28mlen[39m(input_images))
[1;32m    554[0m [38;5;28;01mif[39;00m [38;5;129;01mnot[39;00m image[38;5;241m.[39mgoodmatch:
[1;32m    555[0m     [38;5;66;03m# we will try to match it again once reference catalog[39;00m
[1;32m    556[0m     [38;5;66;03m# has expanded with new sources:[39;00m
[1;32m    557[0m     [38;5;66;03m#if expand_refcat:[39;00m

File [0;32m/usr/share/miniconda/lib/python3.9/site-packages/drizzlepac/imgclasses.py:579[0m, in [0;36mImage.match[0;34m(self, refimage, quiet_identity, **kwargs)[0m
[1;32m    576[0m         yoff [38;5;241m=[39m matchpars[[38;5;124m'[39m[38;5;124myoffset[39m[38;5;124m'[39m]
[1;32m    577[0m     xyoff [38;5;241m=[39m (xoff, yoff)
[0;32m--> 579[0m matches [38;5;241m=[39m [43mxyxymatch[49m[43m([49m[38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43moutxy[49m[43m,[49m[43m [49m[43mref_outxy[49m[43m,[49m[43m [49m[43morigin[49m[38;5;241;43m=[39;49m[43mxyoff[49m[43m,[49m
[1;32m    580[0m [43m                    [49m[43mtolerance[49m[38;5;241;43m=[39;49m[43mmatchpars[49m[43m[[49m[38;5;124;43m'[39;49m[38;5;124;43mtolerance[39;49m[38;5;124;43m'[39;49m[43m][49m[43m,[49m
[1;32m    581[0m [43m                    [49m[43mseparation[49m[38;5;241;43m=[39;49m[43mmatchpars[49m[43m[[49m[38;5;124;43m'[39;49m[38;5;124;43mseparation[39;49m[38;5;124;43m'[39;49m[43m][49m[43m)[49m
[1;32m    583[0m [38;5;28;01mif[39;00m [38;5;28mlen[39m(matches) [38;5;241m>[39m[38;5;241m=[39m minobj:
[1;32m    584[0m     [38;5;28mself[39m[38;5;241m.[39mmatches[[38;5;124m'[39m[38;5;124mimage[39m[38;5;124m'[39m] [38;5;241m=[39m np[38;5;241m.[39mcolumn_stack([matches[[38;5;124m'[39m[38;5;124minput_x[39m[38;5;124m'[39m][:,
[1;32m    585[0m                     np[38;5;241m.[39mnewaxis],matches[[38;5;124m'[39m[38;5;124minput_y[39m[38;5;124m'[39m][:,np[38;5;241m.[39mnewaxis]])

File [0;32m/usr/share/miniconda/lib/python3.9/site-packages/stsci/stimage/__init__.py:236[0m, in [0;36mxyxymatch[0;34m(input, ref, origin, mag, rotation, ref_origin, algorithm, tolerance, separation, nmatch, maxratio, nreject)[0m
[1;32m     35[0m [38;5;28;01mdef[39;00m [38;5;21mxyxymatch[39m([38;5;28minput[39m,
[1;32m     36[0m               ref,
[1;32m     37[0m               origin [38;5;241m=[39m ([38;5;241m0.0[39m, [38;5;241m0.0[39m),
[0;32m   (...)[0m
[1;32m     45[0m               maxratio [38;5;241m=[39m [38;5;241m10.0[39m,
[1;32m     46[0m               nreject [38;5;241m=[39m [38;5;241m10[39m):
[1;32m     47[0m     [38;5;124;03m"""[39;00m
[1;32m     48[0m [38;5;124;03m    Match pixels coordinate lists using various methods.[39;00m
[1;32m     49[0m 
[0;32m   (...)[0m
[1;32m    234[0m [38;5;124;03m    - *ref_idx*[39;00m
[1;32m    235[0m [38;5;124;03m    """[39;00m
[0;32m--> 236[0m     [38;5;28;01mreturn[39;00m [43m_stimage[49m[38;5;241;43m.[39;49m[43mxyxymatch[49m[43m([49m
[1;32m    237[0m [43m        [49m[38;5;28;43minput[39;49m[43m,[49m
[1;32m    238[0m [43m        [49m[43mref[49m[43m,[49m
[1;32m    239[0m [43m        [49m[43morigin[49m[43m,[49m
[1;32m    240[0m [43m        [49m[43mmag[49m[43m,[49m
[1;32m    241[0m [43m        [49m[43mrotation[49m[43m,[49m
[1;32m    242[0m [43m        [49m[43mref_origin[49m[43m,[49m
[1;32m    243[0m [43m        [49m[43malgorithm[49m[43m,[49m
[1;32m    244[0m [43m        [49m[43mtolerance[49m[43m,[49m
[1;32m    245[0m [43m        [49m[43mseparation[49m[43m,[49m
[1;32m    246[0m [43m        [49m[43mnmatch[49m[43m,[49m
[1;32m    247[0m [43m        [49m[43mmaxratio[49m[43m,[49m
[1;32m    248[0m [43m        [49m[43mnreject[49m[43m)[49m

[0;31mRuntimeError[0m: Number of output coordinates exceeded allocation (545)
RuntimeError: Number of output coordinates exceeded allocation (545)

